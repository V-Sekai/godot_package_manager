# Godot Package Manager
A package manager for Godot 3.x. [NPM](https://www.npmjs.com/) allows for arbitrary
packages to be uploaded, so why not upload Godot addons there to be automatically
managed?

### Note
This addon itself has an implicit dependency on [advanced-expression-gd](https://github.com/you-win/advanced-expression-gd),
which will be automatically pulled before pulling other dependencies.

## `godot.package`
Describes packages to be installed along with run hooks. This _should_ be modified
by the user.

Note: unrecognized fields will be ignored. This can be useful for storing additional data or notes.

```JSON
{
    "packages": {
        "simple_package_name": "version_string",
        "complex_package_name": {
            "version": "version_string",
            "required_when": "script_body",
            "optional_when": {
                "type": "script|script_name",
                "value": "
                    non compliant json string
                    but godot still parses this correctly
                        tabs are normalized and preserved
                            so this is also valid
                "
            }
        }
    },
    "hooks": {
        "pre_update": "script_body",
        "post_update": {
            "type": "script|script_name",
            "value": "string"
        },
        "pre_dry_run": [
            "json",
            "compliant",
            "multiline",
            "script_body",
            "tabs must be inserted explicitly",
            "\t"
        ],
        "post_dry_run": "
            non compliant json string
            but godot still parses this correctly
                tabs are normalized and preserved
                    so this is also valid
        ",
        "pre_purge": "...",
        "post_purge": "..."
    },
    "scripts": {
        "script_name": "script_body",
        "other_script": "
            non compliant json string
            but godot still parses this correctly
                tabs are normalized and preserved
                    so this is also valid
        "
    }
}
```

### Notes
* All scripts and expressions are passed the containing `GodotPackageManager` as `gpm` as a function parameter
* Multi-line strings __are__ supported even though this is technically invalid JSON

## `godot.lock`
Keeps track of currently installed packages.

This is auto-generated by the addon and should not be modified manually.

```JSON
{
    "package_name": {
        "version": "version_string",
        "integrity": "sha_string"
    }
}
```
